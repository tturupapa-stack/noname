# 기능 추가 프롬프트 목록

**작성일**: 2025-12-11  
**프로젝트**: 당신이 잠든 사이 - 대시보드

이 문서는 프로젝트 개발 과정에서 각 기능을 추가할 때 사용한 프롬프트를 정리한 것입니다.

---

## 2. 주가 차트 기능

**프롬프트**:
```
주가 차트 추가해줘
```

**요구사항** (개발일지 기준):
- 5일간 주가 추이 라인 차트
- 거래량 바 차트
- recharts 라이브러리 사용
- 가격 변동에 따른 색상 변화 (녹색/빨간색)

**관련 파일**:
- `components/StockChart.tsx`
- `data/mockData.ts` (차트 데이터)

---

## 3. TOP 3 비교 기능

**프롬프트**:
```
화제 종목 TOP 3 비교 기능 추가해줘
```

**요구사항** (개발일지 기준):
- 카드 3개를 나란히 배치 (1위, 2위, 3위)
- 각 카드에 순위 뱃지 표시
- 호버 시 상세 정보 툴팁
- 종목 상세 페이지 링크

**관련 파일**:
- `components/Top3Comparison.tsx`
- `components/Top3ComparisonCard.tsx`

---

## 4. 브리핑 미리보기 모달

**프롬프트**:
```
브리핑 미리보기 모달 추가해줘
```

**요구사항** (개발일지 기준):
- 발송 전 브리핑 미리보기
- Markdown 렌더링
- 발송 채널 선택 (이메일/슬랙)
- 이미지 및 텍스트 미리보기

**관련 파일**:
- `components/BriefingPreviewModal.tsx`
- `components/CreateBriefingButton.tsx`

---

## 5. 다크/라이트 모드 전환

**프롬프트**:
```
다크모드 라이트모드 전환 기능 추가해줘
```

**추가 프롬프트**:
```
라이트모드에서 다크모드가 될때, 다크모드에서 라이트모드가 될때 해가 뜨고 지는 것 같은 그라데이션 전환 효과 넣어줘
```

**요구사항** (개발일지 기준):
- 테마 토글 버튼 (시스템/다크/라이트)
- 로컬스토리지에 설정 저장
- 시스템 테마 자동 감지
- 해가 뜨고 지는 그라데이션 전환 효과

**관련 파일**:
- `components/ThemeToggle.tsx`
- `components/ThemeTransition.tsx`
- `contexts/ThemeContext.tsx`

---

## 6. 알림 설정 기능

**프롬프트**:
```
종목/변동률 조건 알림 설정 UI 기능 추가해줘
```

**요구사항** (개발일지 기준):
- 알림 설정 모달/패널
- 종목별 가격/변동률/거래량 알림 설정
- 복합 조건 설정 (최대 3개, AND/OR)
- 브라우저 푸시, 소리, 진동 설정
- 알림 히스토리 (최근 10개)
- 로컬스토리지 저장

**관련 파일**:
- `components/AlertSettingsModal.tsx`
- `components/AlertList.tsx`
- `components/AlertHistory.tsx`
- `components/ConditionForm.tsx`
- `utils/alertStorage.ts`

---

## 7. 브리핑 달력 조회

**프롬프트**:
```
달력 형태로 과거 브리핑 조회 기능 추가해줘
```

**추가 프롬프트**:
```
브리핑 달력에서 주간 필터가 작동하지 않아
```

**요구사항** (개발일지 기준):
- 달력 UI (월별 캘린더 뷰, 년/월 네비게이션, 오늘 날짜 이동)
- 월간/주간/목록 뷰 모드
- 날짜별 브리핑 표시 (점/뱃지)
- 필터링 (카테고리, 키워드)
- 날짜 클릭 시 브리핑 목록 패널
- 로컬스토리지에 설정 저장

**관련 파일**:
- `components/BriefingCalendar.tsx`
- `components/BriefingListPanel.tsx`
- `components/CalendarFilters.tsx`
- `utils/calendarUtils.ts`
- `utils/calendarStorage.ts`

---

## 8. 관심 종목 (즐겨찾기)

**프롬프트**:
```
관심 종목/즐겨찾기 기능 + 로컬스토리지 저장 하는 기능 추가해줘
```

**요구사항** (개발일지 기준):
- 즐겨찾기 추가/제거 (별 아이콘, 토스트 알림, 최대 50개 제한)
- 즐겨찾기 목록 페이지
- 정렬 기능 (추가일, 이름, 변동률, 거래량)
- 로컬스토리지 저장

**관련 파일**:
- `components/FavoriteIcon.tsx`
- `components/FavoriteList.tsx`
- `utils/favoriteStorage.ts`

---

## 9. 실시간 종목 검색

**프롬프트**:
```
현재 "당신이 잠든 사이" 대시보드에 종목 검색 실시간 검색 + 자동완성을 추가해주세요.
```

**요구사항** (개발일지 기준):
- 검색바에 자동완성 드롭다운
- 한국어 초성 검색 지원
- 검색 히스토리 (최근 5개)
- 키보드 네비게이션 (↑↓, Enter)
- 모바일 최적화 (전체화면 모달)

**관련 파일**:
- `components/StockSearchBar.tsx`
- `components/StockSearch.tsx`
- `components/StockDetailModal.tsx`
- `utils/searchUtils.ts`
- `utils/searchHistoryStorage.ts`
- `hooks/useDebounce.ts`

---

## 10. 브리핑 이미지 SNS 공유

**프롬프트**:
```
브리핑 이미지 SNS 공유 기능 추가해줘
```

**요구사항** (개발일지 기준):
- 브리핑 이미지 자동 생성 (html-to-image)
- SNS 공유 (카카오톡, 트위터, 페이스북)
- 링크/텍스트 복사
- 이미지 다운로드
- 네이티브 공유 (모바일 Web Share API)
- 공유 히스토리 추적

**관련 파일**:
- `components/ShareButton.tsx`
- `components/ShareModal.tsx`
- `utils/shareUtils.ts`
- `utils/shareStorage.ts`

---

## 11. 애니메이션 효과

**프롬프트**:
```
현재 "당신이 잠든 사이" 대시보드에 애니메이션 숫자 카운팅, 카드 전환 효과를 추가해주세요.
```

**요구사항** (개발일지 기준):
- 숫자 카운팅 애니메이션 (주가, 변동률 등)
- 카드 전환 애니메이션 (페이드, 슬라이드, 스케일)
- 스크롤 기반 애니메이션 (Intersection Observer)
- 접근성 고려 (prefers-reduced-motion)

**관련 파일**:
- `components/AnimatedNumber.tsx`
- `components/AnimatedCard.tsx`
- `hooks/useCountUp.ts`
- `hooks/useScrollAnimation.ts`

---

## 12. PWA 설정

**프롬프트**:
```
현재 "당신이 잠든 사이" 대시보드에 PWA 설정 - 모바일 앱처럼 설치 가능하게를 추가해주세요.
```

**추가 프롬프트**:
```
아이콘 생성 하던거 계속해
```

**요구사항** (개발일지 기준):
- PWA 설치 지원 (Android, iOS, Desktop)
- Service Worker 자동 생성 및 등록
- 오프라인 페이지
- 설치 프롬프트 UI (플랫폼별 맞춤 안내)
- 업데이트 알림
- Manifest 파일 설정
- 아이콘 생성 스크립트 (Node.js, Bash)
- iOS 메타 태그 설정

**관련 파일**:
- `next.config.ts` (PWA 설정)
- `public/manifest.json`
- `public/icon.svg`
- `public/icon-*.png` (다양한 크기)
- `components/PWAInstallPrompt.tsx`
- `components/PWAUpdatePrompt.tsx`
- `app/offline/page.tsx`
- `scripts/generate-icons.js`
- `scripts/generate-icons.sh`

---

## 프롬프트 작성 패턴 분석

### 1. 간결한 요청형
- "~ 추가해줘"
- "~ 기능 추가해줘"
- 예: "주가 차트 추가해줘", "브리핑 미리보기 모달 추가해줘"

### 2. 상세 요구사항 포함형
- "현재 [프로젝트명] 대시보드에 [기능] + [세부사항]을 추가해주세요"
- 예: "현재 '당신이 잠든 사이' 대시보드에 종목 검색 실시간 검색 + 자동완성을 추가해주세요"

### 3. 개선 요청형
- "~가 작동하지 않아" (버그 수정)
- "~ 계속해" (작업 이어가기)
- 예: "브리핑 달력에서 주간 필터가 작동하지 않아", "아이콘 생성 하던거 계속해"

### 4. 효과 요청형
- "~ 효과 넣어줘"
- 예: "해가 뜨고 지는 것 같은 그라데이션 전환 효과 넣어줘"

---

## 프롬프트 작성 팁

### 효과적인 프롬프트 작성 방법

1. **명확한 목적 제시**
   - "~ 기능 추가해줘" 보다는 "~를 위해 ~ 기능 추가해줘"
   - 예: "사용자가 브리핑을 공유할 수 있도록 SNS 공유 기능 추가해줘"

2. **구체적인 요구사항 포함**
   - 기능의 핵심 요소 명시
   - 예: "실시간 검색 + 자동완성" (두 가지 기능 명시)

3. **기술 스택 언급 (선택사항)**
   - 특정 라이브러리나 기술이 필요한 경우
   - 예: "recharts 라이브러리 사용하여 주가 차트 추가해줘"

4. **UI/UX 요구사항 포함**
   - 디자인이나 사용자 경험 관련 요구사항
   - 예: "모바일 최적화", "다크 모드 지원"

5. **데이터 저장 요구사항**
   - 로컬스토리지, 서버 저장 등
   - 예: "로컬스토리지 저장 하는 기능 추가해줘"

---

## 13. 백엔드 API 캐싱

**프롬프트**:
```
로딩에 시간이 너무 오래 걸려, 로딩시간을 짧게 줄일 수있는 방법을 찾아봐
```

**요구사항**:
- API 응답 시간 분석 (기존 3분+ → 목표 1초 이내)
- 인메모리 TTL 캐싱 구현
- 서버 시작 시 캐시 프리로딩
- 캐시 만료 시간 설정 (5분)

**관련 파일**:
- `backend/services/cache_service.py` (신규)
- `backend/api/stock.py` (캐시 적용)
- `backend/main.py` (lifespan + 프리로딩)

**결과**: 750배 성능 향상 (9초 → 0.012초)

---

## 14. 브리핑 생성 API

**프롬프트**:
```
브리핑 콘텐츠를 생성하는 API를 만들어줘.
[요구사항]
1. POST /api/briefing/generate
2. 날짜와 종목 티커를 받아서 브리핑 마크다운 생성
3. 텍스트 브리핑 형식으로 반환
```

**요구사항**:
- POST /api/briefing/generate 엔드포인트
- 날짜 + 종목 티커 입력
- 마크다운 형식 브리핑 생성
- 주가 정보, 선정 이유, 뉴스 포함

**관련 파일**:
- `backend/api/briefing_generate.py` (신규)
- `backend/services/briefing_generator.py` (신규)
- `backend/models/briefing.py` (모델 추가)

---

## 15. 종목 비교 API

**프롬프트**:
```
여러 종목을 비교하는 API를 만들어줘.
[요구사항]
1. POST /api/stocks/compare
2. 최대 5개 종목 비교
3. 가격, 변동률, 거래량, 시가총액 비교
4. 지표별 순위 제공
```

**요구사항**:
- POST /api/stocks/compare 엔드포인트
- 최대 5개 종목 비교
- 주요 지표 비교 (가격, 변동률, 거래량, 시가총액)
- 지표별 순위 계산

**관련 파일**:
- `backend/api/stock.py` (compare 엔드포인트 추가)
- `backend/models/stock.py` (CompareRequest, CompareResponse 등)

---

## 16. 주가 차트 API

**프롬프트**:
```
오늘의 화제 종목 그래프가 실제 그래프가 아니야
```

**요구사항**:
- GET /api/stocks/{ticker}/chart 엔드포인트
- 기간 설정 (5d, 1mo, 3mo, 6mo, 1y)
- OHLCV 데이터 반환
- yahooquery history() 사용

**관련 파일**:
- `backend/api/stock.py` (chart 엔드포인트)
- `backend/models/stock.py` (PriceDataPoint, ChartDataResponse)
- `services/api.ts` (fetchStockChart)
- `services/apiAdapters.ts` (adaptChartData)

---

## 17. 프론트엔드 API 연동 (목업 데이터 제거)

**프롬프트**:
```
API 연동된것 맞아? 실제 데이터가 아닌것 같아
```

**추가 프롬프트**:
```
목업 데이터가 있는 곳이 있는지 확인해서 모두 실제 데이터가 나오도록 api 연동해줘
```

**요구사항**:
- 모든 목업 데이터를 실제 API로 교체
- 메인 페이지 API 연동 (화제 종목, TOP 3, 브리핑)
- 종목 상세 페이지 API 연동
- 브리핑 상세 페이지 API 연동
- 종목 상세 모달 차트 API 연동

**관련 파일**:
- `app/page.tsx` (API 연동)
- `app/stock/[symbol]/page.tsx` (API 연동)
- `app/briefing/[id]/page.tsx` (API 연동)
- `components/StockDetailModal.tsx` (차트 API 연동)
- `services/api.ts` (API 함수들)
- `services/apiAdapters.ts` (데이터 변환)

---

## 18. UI/UX 개선 (페이지 분리)

**프롬프트**:
```
UI/UX를 개선을 계획해주세요. 현재 API연동해서 실시간 데이터를 가져오는 항목이 메인 화면에 많다보니, 로딩시간이 다소 오래 걸리는 것 같아. 가장 중요하고 필요한 정보는 메인에 나머지는 상세 페이지를 구성해서 넣는 방향으로 UI/UX 개선을 계획해줘
```

**추가 프롬프트**:
```
구현하고 프롬프트도 저장
```

**요구사항**:
- 메인 페이지 경량화 (API 호출 4개 → 2개)
- 페이지 분리:
  - `/briefings` - 브리핑 달력 + 히스토리
  - `/alerts` - 알림 설정 + 히스토리
  - `/favorites` - 관심 종목 전체 목록
- 네비게이션 컴포넌트 추가
- 미리보기 섹션 (관심 종목 5개, 브리핑 3개)
- 스켈레톤 UI 로딩 상태

**관련 파일**:
- `components/Navigation.tsx` (신규)
- `app/briefings/page.tsx` (신규)
- `app/alerts/page.tsx` (신규)
- `app/favorites/page.tsx` (신규)
- `app/page.tsx` (경량화)
- `docs/UI-UX-개선-계획.md` (계획 문서)

**결과**:
- 메인 페이지 초기 로딩 시간 단축
- First Meaningful Paint 개선
- 사용자 경험 향상 (핵심 정보 우선 표시)

---

## 참고 자료

- [서비스 기획서](./서비스-기획서.md)
- [개발일지 목록](../개발일지/)
- [진행상황 요약](../개발일지/진행상황-요약.md)

---

**문서 버전 관리**
- v1.0 (2025-12-11): 초안 작성
- v1.1 (2025-12-16): 백엔드 API 캐싱, 브리핑 생성 API, 종목 비교 API, 주가 차트 API, 프론트엔드 API 연동 추가
- v1.2 (2025-12-16): UI/UX 개선 (페이지 분리) 추가

