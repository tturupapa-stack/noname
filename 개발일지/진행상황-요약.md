# "당신이 잠든 사이" 대시보드 - 진행상황 요약

**최종 업데이트**: 2025-12-11

## 프로젝트 개요
"당신이 잠든 사이"는 매일 아침 7시 증시·환율·뉴스 브리핑을 제공하는 대시보드 애플리케이션입니다.

## 완료된 주요 기능

### 1. 대시보드 초기 구축 ✅
- Next.js + TailwindCSS 기반 대시보드 구조
- 다크 모드 기본 설정
- 반응형 디자인 (모바일/태블릿/데스크톱)
- 카드 기반 레이아웃

### 2. 주가 차트 기능 ✅
- 5일간 주가 추이 라인 차트
- 거래량 바 차트
- recharts 라이브러리 사용
- 가격 변동에 따른 색상 변화 (녹색/빨간색)

### 3. TOP 3 비교 기능 ✅
- 화제 종목 TOP 3 나란히 비교
- 순위 뱃지 (1위/2위/3위)
- 호버 시 상세 정보 툴팁
- 종목 상세 페이지 링크

### 4. 브리핑 미리보기 모달 ✅
- 발송 전 브리핑 미리보기
- Markdown 렌더링
- 발송 채널 선택 (이메일/슬랙)
- 이미지 및 텍스트 미리보기

### 5. 다크/라이트 모드 전환 ✅
- 테마 토글 버튼 (시스템/다크/라이트)
- 로컬스토리지에 설정 저장
- 시스템 테마 자동 감지
- 해가 뜨고 지는 그라데이션 전환 효과

### 6. 알림 설정 기능 ✅
- 종목별 가격/변동률/거래량 알림 설정
- 복합 조건 설정 (최대 3개, AND/OR)
- 브라우저 푸시, 소리, 진동 설정
- 알림 히스토리 (최근 10개)
- 로컬스토리지 저장

### 7. 브리핑 달력 조회 ✅
- 월간/주간/목록 뷰 모드
- 날짜별 브리핑 표시 (점/뱃지)
- 필터링 (카테고리, 키워드)
- 날짜 클릭 시 브리핑 목록 패널
- 로컬스토리지에 설정 저장

### 8. 관심 종목 (즐겨찾기) ✅
- 종목별 즐겨찾기 추가/제거
- 즐겨찾기 목록 페이지
- 정렬 기능 (추가일, 이름, 변동률, 거래량)
- 로컬스토리지 저장
- 최대 50개 제한

### 9. 실시간 종목 검색 ✅
- 검색바에 자동완성 드롭다운
- 한국어 초성 검색 지원
- 검색 히스토리 (최근 5개)
- 키보드 네비게이션 (↑↓, Enter)
- 모바일 최적화 (전체화면 모달)

### 10. 브리핑 이미지 SNS 공유 ✅
- 브리핑 이미지 자동 생성 (html-to-image)
- SNS 공유 (카카오톡, 트위터, 페이스북)
- 링크/텍스트 복사
- 이미지 다운로드
- 네이티브 공유 (모바일 Web Share API)
- 공유 히스토리 추적

### 11. 애니메이션 효과 ✅
- 숫자 카운팅 애니메이션 (주가, 변동률 등)
- 카드 전환 애니메이션 (페이드, 슬라이드, 스케일)
- 스크롤 기반 애니메이션 (Intersection Observer)
- 테마 전환 효과 (해가 뜨고 지는 그라데이션)
- 접근성 고려 (prefers-reduced-motion)

### 12. PWA 설정 ✅
- PWA 설치 지원 (Android, iOS, Desktop)
- Service Worker 자동 생성 및 등록
- 오프라인 페이지
- 설치 프롬프트 UI (플랫폼별 맞춤 안내)
- 업데이트 알림
- Manifest 파일 설정
- 아이콘 생성 스크립트 (Node.js, Bash)
- iOS 메타 태그 설정

## 기술 스택

### 프론트엔드
- **Next.js 16.0.8**: React 프레임워크
- **React 19.2.1**: UI 라이브러리
- **TypeScript**: 타입 안정성
- **Tailwind CSS 4**: 스타일링
- **Framer Motion**: 애니메이션
- **recharts**: 차트 라이브러리
- **react-markdown**: Markdown 렌더링

### PWA
- **next-pwa**: PWA 플러그인
- **Workbox**: Service Worker 라이브러리

### 유틸리티
- **countup.js**: 숫자 카운팅
- **html-to-image**: 이미지 생성
- **react-share**: SNS 공유

## 주요 컴포넌트 구조

```
components/
  ├── StockCard.tsx              # 주가 카드
  ├── StockChart.tsx             # 주가 차트
  ├── Top3ComparisonCard.tsx    # TOP 3 비교 카드
  ├── BriefingCard.tsx           # 브리핑 카드
  ├── BriefingPreviewModal.tsx   # 브리핑 미리보기
  ├── ThemeToggle.tsx            # 테마 토글
  ├── AlertSettingsModal.tsx     # 알림 설정 모달
  ├── BriefingCalendar.tsx       # 브리핑 달력
  ├── FavoriteList.tsx           # 관심 종목 목록
  ├── StockSearchBar.tsx         # 종목 검색바
  ├── ShareButton.tsx            # 공유 버튼
  ├── ShareModal.tsx             # 공유 모달
  ├── AnimatedNumber.tsx         # 숫자 카운팅 컴포넌트
  ├── AnimatedCard.tsx           # 카드 애니메이션 컴포넌트
  ├── ThemeTransition.tsx        # 테마 전환 효과
  ├── PWAInstallPrompt.tsx       # PWA 설치 프롬프트
  ├── PWAUpdatePrompt.tsx        # PWA 업데이트 알림
  ├── Toast.tsx                  # 토스트 알림
  └── FavoriteIcon.tsx           # 즐겨찾기 아이콘

hooks/
  ├── useCountUp.ts              # 숫자 카운팅 훅
  └── useScrollAnimation.ts      # 스크롤 애니메이션 훅

utils/
  ├── alertStorage.ts            # 알림 저장소
  ├── calendarStorage.ts         # 달력 설정 저장소
  ├── favoriteStorage.ts         # 즐겨찾기 저장소
  ├── searchHistoryStorage.ts   # 검색 히스토리 저장소
  ├── shareUtils.ts              # 공유 유틸리티
  ├── shareStorage.ts            # 공유 히스토리 저장소
  ├── calendarUtils.ts           # 달력 유틸리티
  └── searchUtils.ts             # 검색 유틸리티

contexts/
  └── ThemeContext.tsx           # 테마 컨텍스트
```

## 데이터 관리

### 로컬스토리지 키
- `theme`: 테마 설정
- `stock_alerts`: 알림 설정 목록
- `alert_history`: 알림 히스토리
- `favorite_stocks`: 즐겨찾기 종목
- `calendar_settings`: 달력 설정
- `recent_searches`: 최근 검색어
- `share_history`: 공유 히스토리
- `pwa-prompt-*`: PWA 설치 프롬프트 설정
- `pwa-installed`: PWA 설치 상태
- `pwa-update-dismissed`: PWA 업데이트 알림 거부

## 향후 개발 계획

### 우선순위 높음
1. ✅ **아이콘 파일 생성**: PWA 아이콘 PNG 파일 생성 완료 (2025-12-11)
2. ✅ **프로덕션 빌드**: 빌드 성공 및 서버 실행 확인 (2025-12-11)
3. **HTTPS 배포**: 프로덕션 환경 HTTPS 설정 (배포 시 필요)
4. **Lighthouse 테스트**: PWA 점수 90+ 달성 확인 (배포 후 테스트)

### 우선순위 중간
1. **푸시 알림**: 매일 아침 7시 브리핑 알림
2. **백그라운드 동기화**: 오프라인에서 작성한 데이터 동기화
3. **앱 배지**: 읽지 않은 브리핑 개수 표시

### 우선순위 낮음
1. **사용자 설정 메뉴**: 애니메이션 on/off, 테마 설정 등
2. **데이터 분석**: 사용자 행동 분석 및 통계
3. **다국어 지원**: 영어 등 추가 언어

## 알려진 이슈

1. ✅ **PWA 아이콘**: 실제 PNG 파일 생성 완료 (2025-12-11)
2. ✅ **프로덕션 빌드**: 빌드 성공 및 서버 실행 확인 (2025-12-11)
3. **iOS 푸시 알림**: iOS는 Web Push API 미지원 (iOS 16.4+에서 일부 지원)
4. **Service Worker**: 개발 모드에서 비활성화됨 (프로덕션 빌드에서만 작동)

## 개발 환경 설정

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build

# 프로덕션 서버 실행
npm start

# 아이콘 생성 (sharp 필요)
npm run generate-icons
```

## 참고 문서
- [개발일지 목록](./)
- [PWA 가이드](../README-PWA.md)
- [아이콘 생성 가이드](../scripts/generate-icons.md)

